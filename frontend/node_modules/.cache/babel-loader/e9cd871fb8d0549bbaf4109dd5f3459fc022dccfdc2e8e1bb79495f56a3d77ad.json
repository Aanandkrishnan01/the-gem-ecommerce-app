{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useSearch}from'../context/SearchContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBar=_ref=>{let{className='',placeholder=\"Search products, brands, categories...\"}=_ref;const{searchQuery,setSearchQuery,searchSuggestions,recentSearches,clearRecentSearches,isSearching,performSearch,updateFilter}=useSearch();const[showSuggestions,setShowSuggestions]=useState(false);const[selectedSuggestion,setSelectedSuggestion]=useState(-1);const searchRef=useRef(null);const suggestionsRef=useRef(null);const navigate=useNavigate();// Handle click outside to close suggestions\nuseEffect(()=>{const handleClickOutside=event=>{if(searchRef.current&&!searchRef.current.contains(event.target)){setShowSuggestions(false);setSelectedSuggestion(-1);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);// Handle keyboard navigation\nconst handleKeyDown=e=>{var _searchRef$current;const suggestions=searchQuery?searchSuggestions:recentSearches.map(search=>({type:'recent',text:search}));// Don't prevent default for regular typing keys (letters, numbers, backspace, etc.)\nif(e.key.length===1||e.key==='Backspace'||e.key==='Delete'){return;// Let the browser handle normal text input\n}switch(e.key){case'ArrowDown':e.preventDefault();setSelectedSuggestion(prev=>prev<suggestions.length-1?prev+1:prev);break;case'ArrowUp':e.preventDefault();setSelectedSuggestion(prev=>prev>0?prev-1:-1);break;case'Enter':e.preventDefault();if(selectedSuggestion>=0&&suggestions[selectedSuggestion]){handleSuggestionClick(suggestions[selectedSuggestion]);}else if(searchQuery.trim()){handleSearch(searchQuery);}break;case'Escape':e.preventDefault();setShowSuggestions(false);setSelectedSuggestion(-1);(_searchRef$current=searchRef.current)===null||_searchRef$current===void 0?void 0:_searchRef$current.blur();break;default:break;}};const handleInputChange=e=>{const value=e.target.value;setSearchQuery(value);// This updates the SearchContext\nsetShowSuggestions(true);setSelectedSuggestion(-1);};const handleInputFocus=()=>{setShowSuggestions(true);};const handleSearch=function(){let query=arguments.length>0&&arguments[0]!==undefined?arguments[0]:searchQuery;setShowSuggestions(false);// Don't navigate - just update the search context\nif(query&&query.trim()){setSearchQuery(query.trim());}};const handleSuggestionClick=suggestion=>{const query=suggestion.text;setSearchQuery(query);setShowSuggestions(false);setSelectedSuggestion(-1);if(suggestion.type==='product'){navigate(\"/products/\".concat(suggestion.id));}else if(suggestion.type==='category'){// Update filter instead of navigating\nupdateFilter('category',suggestion.category);}else if(suggestion.type==='brand'){// Update filter instead of navigating\nupdateFilter('brand',suggestion.text);}else{// Just update the search query, don't navigate\nsetSearchQuery(query);}};const getSuggestionIcon=type=>{switch(type){case'product':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"})});case'category':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"})});case'brand':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"})});case'recent':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})});default:return/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})});}};const suggestions=searchQuery?searchSuggestions:recentSearches.map(search=>({type:'recent',text:search}));const shouldShowSuggestions=showSuggestions&&(suggestions.length>0||!searchQuery&&recentSearches.length>0);return/*#__PURE__*/_jsxs(\"div\",{ref:searchRef,className:\"relative \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:handleInputChange,onFocus:handleInputFocus,onKeyDown:handleKeyDown,placeholder:placeholder,autoComplete:\"off\",spellCheck:\"false\",style:{color:'#111827',backgroundColor:'#ffffff',WebkitTextFillColor:'#111827',WebkitBoxShadow:'0 0 0 1000px white inset'},className:\"w-full px-6 py-4 pl-14 pr-16 text-lg text-gray-900 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent placeholder-gray-500 focus:bg-white\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-5 top-1/2 transform -translate-y-1/2\",children:isSearching?/*#__PURE__*/_jsxs(\"svg\",{className:\"w-6 h-6 text-gray-400 animate-spin\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})}),searchQuery&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:e=>{e.preventDefault();e.stopPropagation();setSearchQuery('');setShowSuggestions(false);setSelectedSuggestion(-1);},className:\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 z-10\",title:\"Clear search\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),shouldShowSuggestions&&/*#__PURE__*/_jsxs(\"div\",{ref:suggestionsRef,className:\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-80 overflow-y-auto z-50\",children:[!searchQuery&&recentSearches.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-4 py-2 border-b border-gray-100 bg-gray-50\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-600\",children:\"Recent Searches\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearRecentSearches,className:\"text-xs text-blue-600 hover:text-blue-800\",children:\"Clear All\"})]}),suggestions.map((suggestion,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSuggestionClick(suggestion),className:\"w-full flex items-center px-4 py-3 text-left hover:bg-gray-50 transition-colors \".concat(selectedSuggestion===index?'bg-blue-50 text-blue-700':'text-gray-700'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-3\",children:getSuggestionIcon(suggestion.type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:suggestion.text}),suggestion.category&&suggestion.type!=='category'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"in \",suggestion.category]})]}),suggestion.type==='recent'&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-300\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M7 16l-4-4m0 0l4-4m-4 4h18\"})})]},\"\".concat(suggestion.type,\"-\").concat(suggestion.text,\"-\").concat(index))),searchQuery&&suggestions.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-8 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 mx-auto mb-2 text-gray-300\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No suggestions found\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:[\"Press Enter to search for \\\"\",searchQuery,\"\\\"\"]})]})]})]});};export default SearchBar;","map":{"version":3,"names":["React","useState","useRef","useEffect","Link","useNavigate","useSearch","jsx","_jsx","jsxs","_jsxs","SearchBar","_ref","className","placeholder","searchQuery","setSearchQuery","searchSuggestions","recentSearches","clearRecentSearches","isSearching","performSearch","updateFilter","showSuggestions","setShowSuggestions","selectedSuggestion","setSelectedSuggestion","searchRef","suggestionsRef","navigate","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleKeyDown","e","_searchRef$current","suggestions","map","search","type","text","key","length","preventDefault","prev","handleSuggestionClick","trim","handleSearch","blur","handleInputChange","value","handleInputFocus","query","arguments","undefined","suggestion","concat","id","category","getSuggestionIcon","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","shouldShowSuggestions","ref","onChange","onFocus","onKeyDown","autoComplete","spellCheck","style","color","backgroundColor","WebkitTextFillColor","WebkitBoxShadow","cx","cy","r","onClick","stopPropagation","title","index"],"sources":["C:/Users/USER/OneDrive/Desktop/ecommerce/frontend/src/components/SearchBar.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useSearch } from '../context/SearchContext';\r\n\r\nconst SearchBar = ({ className = '', placeholder = \"Search products, brands, categories...\" }) => {\r\n  const {\r\n    searchQuery,\r\n    setSearchQuery,\r\n    searchSuggestions,\r\n    recentSearches,\r\n    clearRecentSearches,\r\n    isSearching,\r\n    performSearch,\r\n    updateFilter\r\n  } = useSearch();\r\n  \r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [selectedSuggestion, setSelectedSuggestion] = useState(-1);\r\n  const searchRef = useRef(null);\r\n  const suggestionsRef = useRef(null);\r\n  const navigate = useNavigate();\r\n\r\n  // Handle click outside to close suggestions\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\r\n        setShowSuggestions(false);\r\n        setSelectedSuggestion(-1);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  // Handle keyboard navigation\r\n  const handleKeyDown = (e) => {\r\n    const suggestions = searchQuery ? searchSuggestions : recentSearches.map(search => ({\r\n      type: 'recent',\r\n      text: search\r\n    }));\r\n\r\n    // Don't prevent default for regular typing keys (letters, numbers, backspace, etc.)\r\n    if (e.key.length === 1 || e.key === 'Backspace' || e.key === 'Delete') {\r\n      return; // Let the browser handle normal text input\r\n    }\r\n\r\n    switch (e.key) {\r\n      case 'ArrowDown':\r\n        e.preventDefault();\r\n        setSelectedSuggestion(prev => \r\n          prev < suggestions.length - 1 ? prev + 1 : prev\r\n        );\r\n        break;\r\n      case 'ArrowUp':\r\n        e.preventDefault();\r\n        setSelectedSuggestion(prev => prev > 0 ? prev - 1 : -1);\r\n        break;\r\n      case 'Enter':\r\n        e.preventDefault();\r\n        if (selectedSuggestion >= 0 && suggestions[selectedSuggestion]) {\r\n          handleSuggestionClick(suggestions[selectedSuggestion]);\r\n        } else if (searchQuery.trim()) {\r\n          handleSearch(searchQuery);\r\n        }\r\n        break;\r\n      case 'Escape':\r\n        e.preventDefault();\r\n        setShowSuggestions(false);\r\n        setSelectedSuggestion(-1);\r\n        searchRef.current?.blur();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchQuery(value);  // This updates the SearchContext\r\n    setShowSuggestions(true);\r\n    setSelectedSuggestion(-1);\r\n  };\r\n\r\n  const handleInputFocus = () => {\r\n    setShowSuggestions(true);\r\n  };\r\n\r\n  const handleSearch = (query = searchQuery) => {\r\n    setShowSuggestions(false);\r\n    // Don't navigate - just update the search context\r\n    if (query && query.trim()) {\r\n      setSearchQuery(query.trim());\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (suggestion) => {\r\n    const query = suggestion.text;\r\n    setSearchQuery(query);\r\n    setShowSuggestions(false);\r\n    setSelectedSuggestion(-1);\r\n    \r\n    if (suggestion.type === 'product') {\r\n      navigate(`/products/${suggestion.id}`);\r\n    } else if (suggestion.type === 'category') {\r\n      // Update filter instead of navigating\r\n      updateFilter('category', suggestion.category);\r\n    } else if (suggestion.type === 'brand') {\r\n      // Update filter instead of navigating\r\n      updateFilter('brand', suggestion.text);\r\n    } else {\r\n      // Just update the search query, don't navigate\r\n      setSearchQuery(query);\r\n    }\r\n  };\r\n\r\n  const getSuggestionIcon = (type) => {\r\n    switch (type) {\r\n      case 'product':\r\n        return (\r\n          <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\r\n          </svg>\r\n        );\r\n      case 'category':\r\n        return (\r\n          <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\r\n          </svg>\r\n        );\r\n      case 'brand':\r\n        return (\r\n          <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\r\n          </svg>\r\n        );\r\n      case 'recent':\r\n        return (\r\n          <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n          </svg>\r\n        );\r\n      default:\r\n        return (\r\n          <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n          </svg>\r\n        );\r\n    }\r\n  };\r\n\r\n  const suggestions = searchQuery ? searchSuggestions : recentSearches.map(search => ({\r\n    type: 'recent',\r\n    text: search\r\n  }));\r\n\r\n  const shouldShowSuggestions = showSuggestions && (suggestions.length > 0 || (!searchQuery && recentSearches.length > 0));\r\n\r\n  return (\r\n    <div ref={searchRef} className={`relative ${className}`}>\r\n      {/* Search Input */}\r\n      <div className=\"relative\">\r\n        <input\r\n          type=\"text\"\r\n          value={searchQuery}\r\n          onChange={handleInputChange}\r\n          onFocus={handleInputFocus}\r\n          onKeyDown={handleKeyDown}\r\n          placeholder={placeholder}\r\n          autoComplete=\"off\"\r\n          spellCheck=\"false\"\r\n          style={{ \r\n            color: '#111827',\r\n            backgroundColor: '#ffffff',\r\n            WebkitTextFillColor: '#111827',\r\n            WebkitBoxShadow: '0 0 0 1000px white inset'\r\n          }}\r\n          className=\"w-full px-6 py-4 pl-14 pr-16 text-lg text-gray-900 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent placeholder-gray-500 focus:bg-white\"\r\n        />\r\n        \r\n        {/* Search Icon */}\r\n        <div className=\"absolute left-5 top-1/2 transform -translate-y-1/2\">\r\n          {isSearching ? (\r\n            <svg className=\"w-6 h-6 text-gray-400 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\r\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n            </svg>\r\n          ) : (\r\n            <svg className=\"w-6 h-6 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n            </svg>\r\n          )}\r\n        </div>\r\n\r\n        {/* Clear Button */}\r\n        {searchQuery && (\r\n          <button\r\n            type=\"button\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              setSearchQuery('');\r\n              setShowSuggestions(false);\r\n              setSelectedSuggestion(-1);\r\n            }}\r\n            className=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 z-10\"\r\n            title=\"Clear search\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Suggestions Dropdown */}\r\n      {shouldShowSuggestions && (\r\n        <div \r\n          ref={suggestionsRef}\r\n          className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-80 overflow-y-auto z-50\"\r\n        >\r\n          {/* Recent Searches Header */}\r\n          {!searchQuery && recentSearches.length > 0 && (\r\n            <div className=\"flex items-center justify-between px-4 py-2 border-b border-gray-100 bg-gray-50\">\r\n              <span className=\"text-sm font-medium text-gray-600\">Recent Searches</span>\r\n              <button\r\n                onClick={clearRecentSearches}\r\n                className=\"text-xs text-blue-600 hover:text-blue-800\"\r\n              >\r\n                Clear All\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Suggestion Items */}\r\n          {suggestions.map((suggestion, index) => (\r\n            <button\r\n              key={`${suggestion.type}-${suggestion.text}-${index}`}\r\n              onClick={() => handleSuggestionClick(suggestion)}\r\n              className={`w-full flex items-center px-4 py-3 text-left hover:bg-gray-50 transition-colors ${\r\n                selectedSuggestion === index ? 'bg-blue-50 text-blue-700' : 'text-gray-700'\r\n              }`}\r\n            >\r\n              <span className=\"mr-3\">\r\n                {getSuggestionIcon(suggestion.type)}\r\n              </span>\r\n              <div className=\"flex-1\">\r\n                <div className=\"font-medium\">\r\n                  {suggestion.text}\r\n                </div>\r\n                {suggestion.category && suggestion.type !== 'category' && (\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    in {suggestion.category}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              {suggestion.type === 'recent' && (\r\n                <svg className=\"w-4 h-4 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16l-4-4m0 0l4-4m-4 4h18\" />\r\n                </svg>\r\n              )}\r\n            </button>\r\n          ))}\r\n\r\n          {/* No suggestions message */}\r\n          {searchQuery && suggestions.length === 0 && (\r\n            <div className=\"px-4 py-8 text-center text-gray-500\">\r\n              <svg className=\"w-8 h-8 mx-auto mb-2 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n              </svg>\r\n              <p className=\"text-sm\">No suggestions found</p>\r\n              <p className=\"text-xs text-gray-400 mt-1\">\r\n                Press Enter to search for \"{searchQuery}\"\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}