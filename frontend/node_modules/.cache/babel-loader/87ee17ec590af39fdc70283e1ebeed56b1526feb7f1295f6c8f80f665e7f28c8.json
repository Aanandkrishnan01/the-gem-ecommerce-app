{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useSearchParams}from'react-router-dom';import{useCart}from'../context/CartContext';import{useSearch}from'../context/SearchContext';import{useReviews}from'../context/ReviewsContext';import WishlistButton from'../components/WishlistButton';import CompareButton from'../components/CompareButton';import StarRating from'../components/StarRating';import SearchFilters from'../components/SearchFilters';import SortDropdown from'../components/SortDropdown';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Products=()=>{const[searchParams]=useSearchParams();const{addItem}=useCart();const{getProductRating}=useReviews();const{searchResults,isSearching,searchQuery,setSearchQuery,filters,updateFilter,clearFilters,getActiveFiltersCount,showFilters,setShowFilters}=useSearch();// Initialize search based on URL parameters (only once)\nuseEffect(()=>{const searchParam=searchParams.get('search');const categoryParam=searchParams.get('category');const brandParam=searchParams.get('brand');// Only set these if the current context values are empty/default\nif(searchParam&&!searchQuery){setSearchQuery(searchParam);}if(categoryParam&&!filters.category){updateFilter('category',categoryParam);}if(brandParam&&!filters.brand){updateFilter('brand',brandParam);}// Clear URL parameters after setting them to avoid conflicts\nconst currentUrl=new URL(window.location);let urlChanged=false;if(currentUrl.searchParams.has('search')||currentUrl.searchParams.has('category')||currentUrl.searchParams.has('brand')){currentUrl.searchParams.delete('search');currentUrl.searchParams.delete('category');currentUrl.searchParams.delete('brand');urlChanged=true;}if(urlChanged){window.history.replaceState({},'',currentUrl.pathname);}},[]);// Empty dependency array - only run once on mount\nconst handleAddToCart=product=>{try{var _product$sizes,_product$colors;if(!product||!product.id){console.error('Invalid product for adding to cart:',product);return;}addItem({id:product.id,name:product.name||'Unnamed Product',price:product.price||0,image:product.image||'/images/placeholder-product.png',size:((_product$sizes=product.sizes)===null||_product$sizes===void 0?void 0:_product$sizes[0])||'One Size',color:((_product$colors=product.colors)===null||_product$colors===void 0?void 0:_product$colors[0])||'Default',quantity:1});}catch(error){console.error('Error adding product to cart:',error);}};const getProductRatingData=productId=>{try{const rating=getProductRating(productId);return{average:(rating===null||rating===void 0?void 0:rating.averageRating)||0,count:(rating===null||rating===void 0?void 0:rating.totalReviews)||0};}catch(error){console.error('Error getting product rating:',error);return{average:0,count:0};}};const displayProducts=searchResults;const activeFiltersCount=getActiveFiltersCount();return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-light text-black mb-2\",children:searchQuery?\"Search Results for \\\"\".concat(searchQuery,\"\\\"\"):'All Products'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[isSearching?'Searching...':\"\".concat(displayProducts.length,\" products found\"),activeFiltersCount>0&&\" (\".concat(activeFiltersCount,\" filters applied)\")]})]})}),activeFiltersCount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex flex-wrap items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Active filters:\"}),filters.category&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\",children:[\"Category: \",filters.category,/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateFilter('category',''),className:\"ml-2 text-blue-600 hover:text-blue-800\",children:\"\\xD7\"})]}),filters.brand&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\",children:[\"Brand: \",filters.brand,/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateFilter('brand',''),className:\"ml-2 text-blue-600 hover:text-blue-800\",children:\"\\xD7\"})]}),filters.size&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\",children:[\"Size: \",filters.size,/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateFilter('size',''),className:\"ml-2 text-blue-600 hover:text-blue-800\",children:\"\\xD7\"})]}),filters.color&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\",children:[\"Color: \",filters.color,/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateFilter('color',''),className:\"ml-2 text-blue-600 hover:text-blue-800\",children:\"\\xD7\"})]}),filters.rating>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\",children:[filters.rating,\"+ stars\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateFilter('rating',0),className:\"ml-2 text-blue-600 hover:text-blue-800\",children:\"\\xD7\"})]}),(filters.priceRange[0]>0||filters.priceRange[1]<1000)&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\",children:[\"$\",filters.priceRange[0],\" - $\",filters.priceRange[1],/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateFilter('priceRange',[0,1000]),className:\"ml-2 text-blue-600 hover:text-blue-800\",children:\"\\xD7\"})]}),(filters.inStock||filters.onSale)&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\",children:[filters.inStock&&'In Stock',filters.inStock&&filters.onSale&&' & ',filters.onSale&&'On Sale',/*#__PURE__*/_jsx(\"button\",{onClick:()=>{updateFilter('inStock',false);updateFilter('onSale',false);},className:\"ml-2 text-blue-600 hover:text-blue-800\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,className:\"text-sm text-red-600 hover:text-red-800\",children:\"Clear all filters\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:w-80 lg:flex-shrink-0\",children:/*#__PURE__*/_jsx(SearchFilters,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:!showFilters&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(true),className:\"lg:hidden flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Filters\"}),activeFiltersCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\",children:activeFiltersCount})]})}),/*#__PURE__*/_jsx(SortDropdown,{})]}),isSearching?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-8 h-8 mx-auto mb-4 text-gray-400 animate-spin\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Searching products...\"})]})}):displayProducts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1,d:\"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium text-black mb-2\",children:\"No products found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:searchQuery||activeFiltersCount>0?'Try adjusting your search or filters to find what you\\'re looking for.':'No products are available at the moment.'}),(searchQuery||activeFiltersCount>0)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchQuery('');clearFilters();},className:\"btn-primary\",children:\"Clear Search & Filters\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8\",children:Array.isArray(displayProducts)&&displayProducts.map(product=>{// Safety check for product object\nif(!product||!product.id){console.warn('Invalid product object:',product);return null;}const ratingData=getProductRatingData(product.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"group relative bg-white rounded-lg shadow-sm hover:shadow-lg transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden rounded-t-lg\",children:[/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(product.id),children:/*#__PURE__*/_jsx(\"img\",{src:product.image||'/images/placeholder-product.png',alt:product.name||'Product',className:\"w-full h-48 sm:h-64 lg:h-80 object-cover group-hover:scale-105 transition-transform duration-300\",onError:e=>{e.target.src='/images/placeholder-product.png';}})}),(product===null||product===void 0?void 0:product.originalPrice)&&(product===null||product===void 0?void 0:product.price)&&product.originalPrice>product.price&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 left-2 sm:top-4 sm:left-4 bg-red-500 text-white px-2 py-1 rounded-md text-xs sm:text-sm font-medium\",children:\"SALE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-2 sm:top-4 sm:right-4\",children:/*#__PURE__*/_jsx(WishlistButton,{product:product})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 sm:p-4 lg:p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(product.id),children:/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-black group-hover:text-gray-700 transition-colors line-clamp-2 text-sm sm:text-base\",children:(product===null||product===void 0?void 0:product.name)||'Unnamed Product'})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(StarRating,{rating:(ratingData===null||ratingData===void 0?void 0:ratingData.average)||0,size:\"sm\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-xs sm:text-sm text-gray-600\",children:[\"(\",(ratingData===null||ratingData===void 0?void 0:ratingData.count)||0,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs sm:text-sm text-gray-500 mb-2 capitalize\",children:[(product===null||product===void 0?void 0:product.category)||'Uncategorized',(product===null||product===void 0?void 0:product.brand)&&\" \\u2022 \".concat(product.brand)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-3 sm:mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg sm:text-xl font-bold text-black\",children:[\"$\",(product===null||product===void 0?void 0:product.price)||0]}),(product===null||product===void 0?void 0:product.originalPrice)&&(product===null||product===void 0?void 0:product.price)&&product.originalPrice>product.price&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-xs sm:text-sm text-gray-500 line-through\",children:[\"$\",product.originalPrice]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToCart(product),className:\"w-full btn-primary mb-2 text-sm sm:text-base py-2 sm:py-3\",children:\"Add to Cart\"}),/*#__PURE__*/_jsx(CompareButton,{product:product,className:\"w-full text-sm sm:text-base\",showText:true})]})]},product.id);}).filter(Boolean)})]})]})]})});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","Link","useSearchParams","useCart","useSearch","useReviews","WishlistButton","CompareButton","StarRating","SearchFilters","SortDropdown","jsx","_jsx","jsxs","_jsxs","Products","searchParams","addItem","getProductRating","searchResults","isSearching","searchQuery","setSearchQuery","filters","updateFilter","clearFilters","getActiveFiltersCount","showFilters","setShowFilters","searchParam","get","categoryParam","brandParam","category","brand","currentUrl","URL","window","location","urlChanged","has","delete","history","replaceState","pathname","handleAddToCart","product","_product$sizes","_product$colors","id","console","error","name","price","image","size","sizes","color","colors","quantity","getProductRatingData","productId","rating","average","averageRating","count","totalReviews","displayProducts","activeFiltersCount","className","children","concat","length","onClick","priceRange","inStock","onSale","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","cx","cy","r","Array","isArray","map","warn","ratingData","to","src","alt","onError","e","target","originalPrice","showText","filter","Boolean"],"sources":["C:/Users/USER/OneDrive/Desktop/ecommerce/frontend/src/pages/Products.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useSearchParams } from 'react-router-dom';\r\nimport { useCart } from '../context/CartContext';\r\nimport { useSearch } from '../context/SearchContext';\r\nimport { useReviews } from '../context/ReviewsContext';\r\nimport WishlistButton from '../components/WishlistButton';\r\nimport CompareButton from '../components/CompareButton';\r\nimport StarRating from '../components/StarRating';\r\nimport SearchFilters from '../components/SearchFilters';\r\nimport SortDropdown from '../components/SortDropdown';\r\n\r\nconst Products = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const { addItem } = useCart();\r\n  const { getProductRating } = useReviews();\r\n  const {\r\n    searchResults,\r\n    isSearching,\r\n    searchQuery,\r\n    setSearchQuery,\r\n    filters,\r\n    updateFilter,\r\n    clearFilters,\r\n    getActiveFiltersCount,\r\n    showFilters,\r\n    setShowFilters\r\n  } = useSearch();\r\n\r\n  // Initialize search based on URL parameters (only once)\r\n  useEffect(() => {\r\n    const searchParam = searchParams.get('search');\r\n    const categoryParam = searchParams.get('category');\r\n    const brandParam = searchParams.get('brand');\r\n    \r\n    // Only set these if the current context values are empty/default\r\n    if (searchParam && !searchQuery) {\r\n      setSearchQuery(searchParam);\r\n    }\r\n    \r\n    if (categoryParam && !filters.category) {\r\n      updateFilter('category', categoryParam);\r\n    }\r\n    \r\n    if (brandParam && !filters.brand) {\r\n      updateFilter('brand', brandParam);\r\n    }\r\n    \r\n    // Clear URL parameters after setting them to avoid conflicts\r\n    const currentUrl = new URL(window.location);\r\n    let urlChanged = false;\r\n    \r\n    if (currentUrl.searchParams.has('search') || \r\n        currentUrl.searchParams.has('category') || \r\n        currentUrl.searchParams.has('brand')) {\r\n      currentUrl.searchParams.delete('search');\r\n      currentUrl.searchParams.delete('category');  \r\n      currentUrl.searchParams.delete('brand');\r\n      urlChanged = true;\r\n    }\r\n    \r\n    if (urlChanged) {\r\n      window.history.replaceState({}, '', currentUrl.pathname);\r\n    }\r\n  }, []); // Empty dependency array - only run once on mount\r\n\r\n  const handleAddToCart = (product) => {\r\n    try {\r\n      if (!product || !product.id) {\r\n        console.error('Invalid product for adding to cart:', product);\r\n        return;\r\n      }\r\n\r\n      addItem({\r\n        id: product.id,\r\n        name: product.name || 'Unnamed Product',\r\n        price: product.price || 0,\r\n        image: product.image || '/images/placeholder-product.png',\r\n        size: product.sizes?.[0] || 'One Size',\r\n        color: product.colors?.[0] || 'Default',\r\n        quantity: 1\r\n      });\r\n    } catch (error) {\r\n      console.error('Error adding product to cart:', error);\r\n    }\r\n  };\r\n\r\n  const getProductRatingData = (productId) => {\r\n    try {\r\n      const rating = getProductRating(productId);\r\n      return {\r\n        average: rating?.averageRating || 0,\r\n        count: rating?.totalReviews || 0\r\n      };\r\n    } catch (error) {\r\n      console.error('Error getting product rating:', error);\r\n      return {\r\n        average: 0,\r\n        count: 0\r\n      };\r\n    }\r\n  };\r\n\r\n  const displayProducts = searchResults;\r\n  const activeFiltersCount = getActiveFiltersCount();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-light text-black mb-2\">\r\n                {searchQuery ? `Search Results for \"${searchQuery}\"` : 'All Products'}\r\n              </h1>\r\n              <p className=\"text-gray-600\">\r\n                {isSearching ? 'Searching...' : `${displayProducts.length} products found`}\r\n                {activeFiltersCount > 0 && ` (${activeFiltersCount} filters applied)`}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Active Filters Display */}\r\n          {activeFiltersCount > 0 && (\r\n            <div className=\"mt-4 flex flex-wrap items-center gap-2\">\r\n              <span className=\"text-sm text-gray-600\">Active filters:</span>\r\n              \r\n              {filters.category && (\r\n                <span className=\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\">\r\n                  Category: {filters.category}\r\n                  <button\r\n                    onClick={() => updateFilter('category', '')}\r\n                    className=\"ml-2 text-blue-600 hover:text-blue-800\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </span>\r\n              )}\r\n              \r\n              {filters.brand && (\r\n                <span className=\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\">\r\n                  Brand: {filters.brand}\r\n                  <button\r\n                    onClick={() => updateFilter('brand', '')}\r\n                    className=\"ml-2 text-blue-600 hover:text-blue-800\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </span>\r\n              )}\r\n              \r\n              {filters.size && (\r\n                <span className=\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\">\r\n                  Size: {filters.size}\r\n                  <button\r\n                    onClick={() => updateFilter('size', '')}\r\n                    className=\"ml-2 text-blue-600 hover:text-blue-800\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </span>\r\n              )}\r\n              \r\n              {filters.color && (\r\n                <span className=\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\">\r\n                  Color: {filters.color}\r\n                  <button\r\n                    onClick={() => updateFilter('color', '')}\r\n                    className=\"ml-2 text-blue-600 hover:text-blue-800\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </span>\r\n              )}\r\n              \r\n              {filters.rating > 0 && (\r\n                <span className=\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\">\r\n                  {filters.rating}+ stars\r\n                  <button\r\n                    onClick={() => updateFilter('rating', 0)}\r\n                    className=\"ml-2 text-blue-600 hover:text-blue-800\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </span>\r\n              )}\r\n              \r\n              {(filters.priceRange[0] > 0 || filters.priceRange[1] < 1000) && (\r\n                <span className=\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\">\r\n                  ${filters.priceRange[0]} - ${filters.priceRange[1]}\r\n                  <button\r\n                    onClick={() => updateFilter('priceRange', [0, 1000])}\r\n                    className=\"ml-2 text-blue-600 hover:text-blue-800\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </span>\r\n              )}\r\n              \r\n              {(filters.inStock || filters.onSale) && (\r\n                <span className=\"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\">\r\n                  {filters.inStock && 'In Stock'}{filters.inStock && filters.onSale && ' & '}{filters.onSale && 'On Sale'}\r\n                  <button\r\n                    onClick={() => {\r\n                      updateFilter('inStock', false);\r\n                      updateFilter('onSale', false);\r\n                    }}\r\n                    className=\"ml-2 text-blue-600 hover:text-blue-800\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </span>\r\n              )}\r\n              \r\n              <button\r\n                onClick={clearFilters}\r\n                className=\"text-sm text-red-600 hover:text-red-800\"\r\n              >\r\n                Clear all filters\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex flex-col lg:flex-row gap-8\">\r\n          {/* Filters Sidebar */}\r\n          <div className=\"lg:w-80 lg:flex-shrink-0\">\r\n            <SearchFilters />\r\n          </div>\r\n\r\n          {/* Products Grid */}\r\n          <div className=\"flex-1\">\r\n            {/* Sort and View Options */}\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <div className=\"flex items-center space-x-4\">\r\n                {!showFilters && (\r\n                  <button\r\n                    onClick={() => setShowFilters(true)}\r\n                    className=\"lg:hidden flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                  >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z\" />\r\n                    </svg>\r\n                    <span>Filters</span>\r\n                    {activeFiltersCount > 0 && (\r\n                      <span className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\">\r\n                        {activeFiltersCount}\r\n                      </span>\r\n                    )}\r\n                  </button>\r\n                )}\r\n              </div>\r\n              \r\n              <SortDropdown />\r\n            </div>\r\n\r\n            {/* Products Grid */}\r\n            {isSearching ? (\r\n              <div className=\"flex items-center justify-center py-20\">\r\n                <div className=\"text-center\">\r\n                  <svg className=\"w-8 h-8 mx-auto mb-4 text-gray-400 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n                  </svg>\r\n                  <p className=\"text-gray-600\">Searching products...</p>\r\n                </div>\r\n              </div>\r\n            ) : displayProducts.length === 0 ? (\r\n              <div className=\"text-center py-20\">\r\n                <div className=\"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center\">\r\n                  <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4\" />\r\n                  </svg>\r\n                </div>\r\n                <h3 className=\"text-xl font-medium text-black mb-2\">No products found</h3>\r\n                <p className=\"text-gray-600 mb-6\">\r\n                  {searchQuery || activeFiltersCount > 0\r\n                    ? 'Try adjusting your search or filters to find what you\\'re looking for.'\r\n                    : 'No products are available at the moment.'\r\n                  }\r\n                </p>\r\n                {(searchQuery || activeFiltersCount > 0) && (\r\n                  <button\r\n                    onClick={() => {\r\n                      setSearchQuery('');\r\n                      clearFilters();\r\n                    }}\r\n                    className=\"btn-primary\"\r\n                  >\r\n                    Clear Search & Filters\r\n                  </button>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8\">\r\n                {Array.isArray(displayProducts) && displayProducts.map((product) => {\r\n                  // Safety check for product object\r\n                  if (!product || !product.id) {\r\n                    console.warn('Invalid product object:', product);\r\n                    return null;\r\n                  }\r\n\r\n                  const ratingData = getProductRatingData(product.id);\r\n                  \r\n                  return (\r\n                    <div key={product.id} className=\"group relative bg-white rounded-lg shadow-sm hover:shadow-lg transition-shadow\">\r\n                      <div className=\"relative overflow-hidden rounded-t-lg\">\r\n                        <Link to={`/products/${product.id}`}>\r\n                          <img\r\n                            src={product.image || '/images/placeholder-product.png'}\r\n                            alt={product.name || 'Product'}\r\n                            className=\"w-full h-48 sm:h-64 lg:h-80 object-cover group-hover:scale-105 transition-transform duration-300\"\r\n                            onError={(e) => {\r\n                              e.target.src = '/images/placeholder-product.png';\r\n                            }}\r\n                          />\r\n                        </Link>\r\n                        \r\n                        {/* Sale Badge */}\r\n                        {product?.originalPrice && product?.price && product.originalPrice > product.price && (\r\n                          <div className=\"absolute top-2 left-2 sm:top-4 sm:left-4 bg-red-500 text-white px-2 py-1 rounded-md text-xs sm:text-sm font-medium\">\r\n                            SALE\r\n                          </div>\r\n                        )}\r\n                        \r\n                        {/* Wishlist Button */}\r\n                        <div className=\"absolute top-2 right-2 sm:top-4 sm:right-4\">\r\n                          <WishlistButton product={product} />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"p-3 sm:p-4 lg:p-6\">\r\n                        <div className=\"flex items-start justify-between mb-2\">\r\n                          <Link to={`/products/${product.id}`}>\r\n                            <h3 className=\"font-medium text-black group-hover:text-gray-700 transition-colors line-clamp-2 text-sm sm:text-base\">\r\n                              {product?.name || 'Unnamed Product'}\r\n                            </h3>\r\n                          </Link>\r\n                        </div>\r\n\r\n                        {/* Rating */}\r\n                        <div className=\"flex items-center mb-2\">\r\n                          <StarRating rating={ratingData?.average || 0} size=\"sm\" />\r\n                          <span className=\"ml-2 text-xs sm:text-sm text-gray-600\">\r\n                            ({ratingData?.count || 0})\r\n                          </span>\r\n                        </div>\r\n\r\n                        {/* Category and Brand */}\r\n                        <div className=\"text-xs sm:text-sm text-gray-500 mb-2 capitalize\">\r\n                          {product?.category || 'Uncategorized'}\r\n                          {product?.brand && ` • ${product.brand}`}\r\n                        </div>\r\n\r\n                        {/* Price */}\r\n                        <div className=\"flex items-center mb-3 sm:mb-4\">\r\n                          <span className=\"text-lg sm:text-xl font-bold text-black\">${product?.price || 0}</span>\r\n                          {product?.originalPrice && product?.price && product.originalPrice > product.price && (\r\n                            <span className=\"ml-2 text-xs sm:text-sm text-gray-500 line-through\">\r\n                              ${product.originalPrice}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n\r\n                        {/* Add to Cart Button */}\r\n                        <button\r\n                          onClick={() => handleAddToCart(product)}\r\n                          className=\"w-full btn-primary mb-2 text-sm sm:text-base py-2 sm:py-3\"\r\n                        >\r\n                          Add to Cart\r\n                        </button>\r\n\r\n                        {/* Compare Button */}\r\n                        <CompareButton \r\n                          product={product} \r\n                          className=\"w-full text-sm sm:text-base\"\r\n                          showText={true}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                }).filter(Boolean)}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}