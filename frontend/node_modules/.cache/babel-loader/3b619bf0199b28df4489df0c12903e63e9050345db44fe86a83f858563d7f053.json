{"ast":null,"code":"import React,{useState}from'react';import{useWishlist}from'../context/WishlistContext';import{useAuth}from'../context/AuthContext';import'./WishlistButton.css';// We'll create this file\nimport{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WishlistButton=_ref=>{let{product,className='',size='normal',showTooltip=true}=_ref;const{addToWishlist,removeFromWishlist,isInWishlist}=useWishlist();const{isAuthenticated}=useAuth();const navigate=useNavigate();const[isAnimating,setIsAnimating]=useState(false);// Safety check for product prop\nif(!product||!product.id){console.warn('WishlistButton: Invalid product prop:',product);return null;}const inWishlist=isInWishlist(product.id);const handleToggleWishlist=e=>{e.preventDefault();e.stopPropagation();if(!isAuthenticated){navigate('/auth');return;}setIsAnimating(true);setTimeout(()=>setIsAnimating(false),300);if(inWishlist){removeFromWishlist(product.id);}else{addToWishlist(product);}};const getIconSize=()=>{switch(size){case'small':return'w-4 h-4';case'large':return'w-6 h-6';default:return'w-5 h-5';}};const getButtonSize=()=>{switch(size){case'small':return'p-1.5';case'large':return'p-3';default:return'p-2';}};return/*#__PURE__*/_jsx(\"div\",{className:\"wishlist-button-container\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleToggleWishlist,className:\"\\n          \".concat(getButtonSize(),\"\\n          \").concat(className,\"\\n          \").concat(inWishlist?'text-red-500':'text-gray-400 hover:text-red-500',\"\\n          \").concat(isAnimating?'animate-pulse':'',\"\\n          transition-all duration-200 ease-in-out transform hover:scale-110\\n          bg-white/80 backdrop-blur-sm rounded-full shadow-md hover:shadow-lg\\n          relative\\n        \"),title:showTooltip?inWishlist?'Remove from wishlist':isAuthenticated?'Add to wishlist':'Sign in to add to wishlist':'',children:[/*#__PURE__*/_jsx(\"svg\",{className:\"\".concat(getIconSize(),\" transition-transform duration-200 \").concat(isAnimating?'scale-125':''),fill:inWishlist?'currentColor':'none',stroke:\"currentColor\",strokeWidth:inWishlist?0:2,viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"})}),showTooltip&&/*#__PURE__*/_jsxs(\"div\",{className:\"wishlist-tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-black text-white text-xs rounded-md transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10\",children:[inWishlist?'Remove from wishlist':isAuthenticated?'Add to wishlist':'Sign in to add to wishlist',/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black\"})]})]})});};export default WishlistButton;","map":{"version":3,"names":["React","useState","useWishlist","useAuth","useNavigate","jsx","_jsx","jsxs","_jsxs","WishlistButton","_ref","product","className","size","showTooltip","addToWishlist","removeFromWishlist","isInWishlist","isAuthenticated","navigate","isAnimating","setIsAnimating","id","console","warn","inWishlist","handleToggleWishlist","e","preventDefault","stopPropagation","setTimeout","getIconSize","getButtonSize","children","onClick","concat","title","fill","stroke","strokeWidth","viewBox","strokeLinecap","strokeLinejoin","d"],"sources":["C:/Users/USER/OneDrive/Desktop/ecommerce/frontend/src/components/WishlistButton.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useWishlist } from '../context/WishlistContext';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport './WishlistButton.css'; // We'll create this file\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst WishlistButton = ({ product, className = '', size = 'normal', showTooltip = true }) => {\r\n  const { addToWishlist, removeFromWishlist, isInWishlist } = useWishlist();\r\n  const { isAuthenticated } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n  \r\n  // Safety check for product prop\r\n  if (!product || !product.id) {\r\n    console.warn('WishlistButton: Invalid product prop:', product);\r\n    return null;\r\n  }\r\n  \r\n  const inWishlist = isInWishlist(product.id);\r\n\r\n  const handleToggleWishlist = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (!isAuthenticated) {\r\n      navigate('/auth');\r\n      return;\r\n    }\r\n\r\n    setIsAnimating(true);\r\n    setTimeout(() => setIsAnimating(false), 300);\r\n\r\n    if (inWishlist) {\r\n      removeFromWishlist(product.id);\r\n    } else {\r\n      addToWishlist(product);\r\n    }\r\n  };\r\n\r\n  const getIconSize = () => {\r\n    switch (size) {\r\n      case 'small': return 'w-4 h-4';\r\n      case 'large': return 'w-6 h-6';\r\n      default: return 'w-5 h-5';\r\n    }\r\n  };\r\n\r\n  const getButtonSize = () => {\r\n    switch (size) {\r\n      case 'small': return 'p-1.5';\r\n      case 'large': return 'p-3';\r\n      default: return 'p-2';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"wishlist-button-container\">\r\n      <button\r\n        onClick={handleToggleWishlist}\r\n        className={`\r\n          ${getButtonSize()}\r\n          ${className}\r\n          ${inWishlist ? 'text-red-500' : 'text-gray-400 hover:text-red-500'}\r\n          ${isAnimating ? 'animate-pulse' : ''}\r\n          transition-all duration-200 ease-in-out transform hover:scale-110\r\n          bg-white/80 backdrop-blur-sm rounded-full shadow-md hover:shadow-lg\r\n          relative\r\n        `}\r\n        title={\r\n          showTooltip \r\n            ? inWishlist \r\n              ? 'Remove from wishlist' \r\n              : isAuthenticated \r\n                ? 'Add to wishlist' \r\n                : 'Sign in to add to wishlist'\r\n            : ''\r\n        }\r\n      >\r\n        <svg \r\n          className={`${getIconSize()} transition-transform duration-200 ${isAnimating ? 'scale-125' : ''}`}\r\n          fill={inWishlist ? 'currentColor' : 'none'}\r\n          stroke=\"currentColor\"\r\n          strokeWidth={inWishlist ? 0 : 2}\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n          />\r\n        </svg>\r\n        \r\n        {/* Tooltip */}\r\n        {showTooltip && (\r\n          <div className=\"wishlist-tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-black text-white text-xs rounded-md transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10\">\r\n            {inWishlist \r\n              ? 'Remove from wishlist' \r\n              : isAuthenticated \r\n                ? 'Add to wishlist' \r\n                : 'Sign in to add to wishlist'}\r\n            <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black\"></div>\r\n          </div>\r\n        )}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WishlistButton;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}