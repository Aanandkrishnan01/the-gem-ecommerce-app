{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{useSearch}from'../context/SearchContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SortDropdown=_ref=>{let{className=''}=_ref;const{sortBy,setSortBy,sortOptions}=useSearch();const[isOpen,setIsOpen]=useState(false);const dropdownRef=useRef(null);// Handle click outside to close dropdown\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);const selectedOption=sortOptions.find(option=>option.value===sortBy);const handleSortChange=value=>{setSortBy(value);setIsOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{ref:dropdownRef,className:\"relative \".concat(className),children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsOpen(!isOpen),className:\"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors bg-white\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-700\",children:[\"Sort: \",(selectedOption===null||selectedOption===void 0?void 0:selectedOption.label)||'Best Match']}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-500 transform transition-transform \".concat(isOpen?'rotate-180':''),fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-48\",children:/*#__PURE__*/_jsx(\"div\",{className:\"py-1\",children:sortOptions.map(option=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSortChange(option.value),className:\"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 transition-colors \".concat(sortBy===option.value?'bg-blue-50 text-blue-700 font-medium':'text-gray-700'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:option.label}),sortBy===option.value&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})]})},option.value))})})]});};export default SortDropdown;","map":{"version":3,"names":["React","useState","useRef","useEffect","useSearch","jsx","_jsx","jsxs","_jsxs","SortDropdown","_ref","className","sortBy","setSortBy","sortOptions","isOpen","setIsOpen","dropdownRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","selectedOption","find","option","value","handleSortChange","ref","concat","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","label","map"],"sources":["C:/Users/USER/OneDrive/Desktop/ecommerce/frontend/src/components/SortDropdown.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useSearch } from '../context/SearchContext';\r\n\r\nconst SortDropdown = ({ className = '' }) => {\r\n  const { sortBy, setSortBy, sortOptions } = useSearch();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n\r\n  // Handle click outside to close dropdown\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const selectedOption = sortOptions.find(option => option.value === sortBy);\r\n\r\n  const handleSortChange = (value) => {\r\n    setSortBy(value);\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div ref={dropdownRef} className={`relative ${className}`}>\r\n      {/* Sort Button */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors bg-white\"\r\n      >\r\n        <svg className=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4\" />\r\n        </svg>\r\n        <span className=\"text-sm font-medium text-gray-700\">\r\n          Sort: {selectedOption?.label || 'Best Match'}\r\n        </span>\r\n        <svg\r\n          className={`w-4 h-4 text-gray-500 transform transition-transform ${\r\n            isOpen ? 'rotate-180' : ''\r\n          }`}\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n        </svg>\r\n      </button>\r\n\r\n      {/* Dropdown Menu */}\r\n      {isOpen && (\r\n        <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-48\">\r\n          <div className=\"py-1\">\r\n            {sortOptions.map((option) => (\r\n              <button\r\n                key={option.value}\r\n                onClick={() => handleSortChange(option.value)}\r\n                className={`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 transition-colors ${\r\n                  sortBy === option.value\r\n                    ? 'bg-blue-50 text-blue-700 font-medium'\r\n                    : 'text-gray-700'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span>{option.label}</span>\r\n                  {sortBy === option.value && (\r\n                    <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                    </svg>\r\n                  )}\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SortDropdown;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}