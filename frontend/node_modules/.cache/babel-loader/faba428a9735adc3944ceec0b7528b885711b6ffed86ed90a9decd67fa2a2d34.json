{"ast":null,"code":"import React,{useState}from'react';import{useComparison}from'../context/ComparisonContext';import'./CompareButton.css';// We'll create this file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CompareButton=_ref=>{let{product,className='',size='normal',showText=true}=_ref;const{addToComparison,removeFromComparison,isInComparison,canAddToComparison,getComparisonCount}=useComparison();const[isAnimating,setIsAnimating]=useState(false);// Safety check for product prop\nif(!product||!product.id){console.warn('CompareButton: Invalid product prop:',product);return null;}const inComparison=isInComparison(product.id);const canAdd=canAddToComparison();const comparisonCount=getComparisonCount();const handleToggleComparison=e=>{e.preventDefault();e.stopPropagation();setIsAnimating(true);setTimeout(()=>setIsAnimating(false),300);if(inComparison){removeFromComparison(product.id);}else if(canAdd||comparisonCount===0){const wasAdded=addToComparison(product);if(!wasAdded&&comparisonCount>=4){// Show a brief message that oldest item was replaced\nconsole.log('Comparison full - oldest item replaced');}}};const buttonSizes={small:'p-1',normal:'p-2',large:'p-3'};const iconSizes={small:'w-3 h-3',normal:'w-4 h-4',large:'w-5 h-5'};const textSizes={small:'text-xs',normal:'text-sm',large:'text-base'};const getButtonStyle=()=>{if(inComparison){return'bg-blue-500 text-white border-blue-500 hover:bg-blue-600';}else if(!canAdd&&comparisonCount>=4){return'bg-orange-500 text-white border-orange-500 hover:bg-orange-600';}else{return'bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400';}};const getTooltipText=()=>{if(inComparison){return'Remove from comparison';}else if(!canAdd&&comparisonCount>=4){return'Replace oldest item in comparison';}else{return\"Add to comparison (\".concat(comparisonCount,\"/4)\");}};const CompareIcon=_ref2=>{let{className}=_ref2;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})});};return/*#__PURE__*/_jsx(\"div\",{className:\"compare-button-container\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleToggleComparison,className:\"\\n          \".concat(buttonSizes[size],\" \\n          \").concat(getButtonStyle(),\"\\n          border rounded-lg transition-all duration-200 \\n          flex items-center space-x-2\\n          \").concat(isAnimating?'scale-95':'scale-100',\"\\n          \").concat(className,\"\\n          relative\\n        \"),title:getTooltipText(),children:[/*#__PURE__*/_jsx(CompareIcon,{className:iconSizes[size]}),showText&&/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(textSizes[size],\" font-medium\"),children:inComparison?'Remove':'Compare'}),comparisonCount>0&&!inComparison&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\",children:comparisonCount}),/*#__PURE__*/_jsx(\"div\",{className:\"compare-tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded transition-opacity whitespace-nowrap pointer-events-none z-10\",children:getTooltipText()})]})});};export default CompareButton;","map":{"version":3,"names":["React","useState","useComparison","jsx","_jsx","jsxs","_jsxs","CompareButton","_ref","product","className","size","showText","addToComparison","removeFromComparison","isInComparison","canAddToComparison","getComparisonCount","isAnimating","setIsAnimating","id","console","warn","inComparison","canAdd","comparisonCount","handleToggleComparison","e","preventDefault","stopPropagation","setTimeout","wasAdded","log","buttonSizes","small","normal","large","iconSizes","textSizes","getButtonStyle","getTooltipText","concat","CompareIcon","_ref2","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","title"],"sources":["C:/Users/USER/OneDrive/Desktop/ecommerce/frontend/src/components/CompareButton.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useComparison } from '../context/ComparisonContext';\r\nimport './CompareButton.css'; // We'll create this file\r\n\r\nconst CompareButton = ({ product, className = '', size = 'normal', showText = true }) => {\r\n  const { addToComparison, removeFromComparison, isInComparison, canAddToComparison, getComparisonCount } = useComparison();\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n  \r\n  // Safety check for product prop\r\n  if (!product || !product.id) {\r\n    console.warn('CompareButton: Invalid product prop:', product);\r\n    return null;\r\n  }\r\n  \r\n  const inComparison = isInComparison(product.id);\r\n  const canAdd = canAddToComparison();\r\n  const comparisonCount = getComparisonCount();\r\n\r\n  const handleToggleComparison = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    setIsAnimating(true);\r\n    setTimeout(() => setIsAnimating(false), 300);\r\n\r\n    if (inComparison) {\r\n      removeFromComparison(product.id);\r\n    } else if (canAdd || comparisonCount === 0) {\r\n      const wasAdded = addToComparison(product);\r\n      if (!wasAdded && comparisonCount >= 4) {\r\n        // Show a brief message that oldest item was replaced\r\n        console.log('Comparison full - oldest item replaced');\r\n      }\r\n    }\r\n  };\r\n\r\n  const buttonSizes = {\r\n    small: 'p-1',\r\n    normal: 'p-2',\r\n    large: 'p-3'\r\n  };\r\n\r\n  const iconSizes = {\r\n    small: 'w-3 h-3',\r\n    normal: 'w-4 h-4',\r\n    large: 'w-5 h-5'\r\n  };\r\n\r\n  const textSizes = {\r\n    small: 'text-xs',\r\n    normal: 'text-sm',\r\n    large: 'text-base'\r\n  };\r\n\r\n  const getButtonStyle = () => {\r\n    if (inComparison) {\r\n      return 'bg-blue-500 text-white border-blue-500 hover:bg-blue-600';\r\n    } else if (!canAdd && comparisonCount >= 4) {\r\n      return 'bg-orange-500 text-white border-orange-500 hover:bg-orange-600';\r\n    } else {\r\n      return 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400';\r\n    }\r\n  };\r\n\r\n  const getTooltipText = () => {\r\n    if (inComparison) {\r\n      return 'Remove from comparison';\r\n    } else if (!canAdd && comparisonCount >= 4) {\r\n      return 'Replace oldest item in comparison';\r\n    } else {\r\n      return `Add to comparison (${comparisonCount}/4)`;\r\n    }\r\n  };\r\n\r\n  const CompareIcon = ({ className }) => (\r\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path \r\n        strokeLinecap=\"round\" \r\n        strokeLinejoin=\"round\" \r\n        strokeWidth={2} \r\n        d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" \r\n      />\r\n    </svg>\r\n  );\r\n\r\n  return (\r\n    <div className=\"compare-button-container\">\r\n      <button\r\n        onClick={handleToggleComparison}\r\n        className={`\r\n          ${buttonSizes[size]} \r\n          ${getButtonStyle()}\r\n          border rounded-lg transition-all duration-200 \r\n          flex items-center space-x-2\r\n          ${isAnimating ? 'scale-95' : 'scale-100'}\r\n          ${className}\r\n          relative\r\n        `}\r\n        title={getTooltipText()}\r\n      >\r\n        <CompareIcon className={iconSizes[size]} />\r\n        {showText && (\r\n          <span className={`${textSizes[size]} font-medium`}>\r\n            {inComparison ? 'Remove' : 'Compare'}\r\n          </span>\r\n        )}\r\n        \r\n        {/* Comparison count badge */}\r\n        {comparisonCount > 0 && !inComparison && (\r\n          <span className=\"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\r\n            {comparisonCount}\r\n          </span>\r\n        )}\r\n        \r\n        {/* Tooltip */}\r\n        <div className=\"compare-tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded transition-opacity whitespace-nowrap pointer-events-none z-10\">\r\n          {getTooltipText()}\r\n        </div>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompareButton;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}